<div class="container"
     fxLayout='column'
     fxLayoutAlign="stretch">

  <section fxFlex="0 0 auto"
           fxLayout='column'
           fxLayoutAlign="stretch"
           [style.background]="'lightblue'">
    <div fxFlex="0 0 auto"
         class="controls">
      <button md-raised-button
              [disabled]="progress > 0 || selectedFiles.length > 0"
              (click)="files.click()">
        Select PDF files
      </button>
      <input type="file"
             id="files"
             name="files[]"
             multiple
             [hidden]="true"
             (change)="selectFilesWithInput($event)"
             #files/>
      <button md-raised-button
              [disabled]="progress > 0 || operations.length === 0"
              (click)="parseFiles()">
        Save in CSV file
      </button>
      <button md-raised-button
              [disabled]="progress > 0 || selectedFiles.length === 0"
              (click)="clear()">
        Clear
      </button>
    </div>
  </section>

  <div fxFlex="0 1 auto"
       fxLayout='row'
       fxLayoutAlign="stretch">
    <section fxFlex="0 1 auto"
             fxLayout='column'
             fxLayoutAlign="stretch"
             class="selected-files"
             [style.background]="'lightyellow'">
      <h2>Files</h2>
      <table fxFlex="0 1 auto"
             *ngIf="selectedFiles.length > 0">
        <tr *ngFor="let selectedFile of selectedFiles">
          <td>{{selectedFile.name}}</td>
        </tr>
      </table>
    </section>

    <section fxFlex="0 1 auto"
             fxLayout='column'
             fxLayoutAlign="stretch"
             [style.background]="'lightgreen'">
      <h2>Operations</h2>
      <md-progress-spinner fxFlex="0 0 200px"
                           [value]="progress"
                           *ngIf="progress > 0 && progress < 100">
      </md-progress-spinner>
      <ul fxFlex="0 1 auto"
          class="errors"
          *ngIf="errors.length > 0">
        <li *ngFor="let error of errors">{{error}}</li>
      </ul>
      <table fxFlex="0 1 auto"
             class="operations"
             *ngIf="operations.length > 0">
        <thead>
        <tr>
          <td>Date</td>
          <td>Amount</td>
          <td>Description</td>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let operation of operations">
          <td>{{operation.date}}</td>
          <td>{{operation.amount | number:'1.2-2'}}</td>
          <td>{{operation.description}}</td>
        </tr>
        </tbody>
      </table>
    </section>
  </div>
</div>
